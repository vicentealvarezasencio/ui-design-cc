# V0 Adapter

Rules for generating Vercel V0-optimized prompts from UI specifications.

<adapter_info>
Service: V0 by Vercel
URL: https://v0.dev/
Output: React components with Tailwind CSS and shadcn/ui
Strength: Production-ready React code, component-level generation
Best For: React/Next.js projects, individual components, production code
Limitations: React-specific, requires shadcn/ui setup, less flexible for non-React
</adapter_info>

<capability_matrix>

| Capability | Support | Notes |
|------------|---------|-------|
| Full screens | ✅ Good | Can do pages, better at components |
| Individual components | ✅ Excellent | Primary use case |
| Responsive layouts | ✅ Excellent | Tailwind responsive built-in |
| Dark mode | ✅ Excellent | Via Tailwind dark: classes |
| Animations | ✅ Good | Framer Motion, Tailwind transitions |
| Interactive prototypes | ✅ Good | Real React state/handlers |
| Production code | ✅ Excellent | Main strength |
| Design tokens import | ⚠️ Indirect | Via Tailwind config |
| Iteration/refinement | ✅ Excellent | Built-in iteration UI |
| TypeScript | ✅ Excellent | Fully typed output |
| Form validation | ✅ Excellent | react-hook-form integration |
| Data tables | ✅ Excellent | TanStack Table support |

</capability_matrix>

<prompt_structure>

## Basic Structure

```
Create a [component/page] using shadcn/ui components:

- [Structure with component names]
- [Props and variants]
- [Styling with Tailwind classes]

[Behavior notes if interactive]
[Responsive notes]
```

## Extended Structure (Complex Components)

```
Create a [component type] component for a [app type] using shadcn/ui.

## Purpose
[What this component does, user goal]

## Structure
- [Outer container with Tailwind classes]
  - [Nested component 1]
    - [Child elements]
  - [Nested component 2]

## shadcn/ui Components Used
- [Component 1]: [variant, size, props]
- [Component 2]: [variant, size, props]

## Styling
- Layout: [flex/grid configuration]
- Spacing: [Tailwind spacing classes]
- Colors: [Tailwind color classes or CSS variables]
- Typography: [text classes]

## Interactivity
- [State management needed]
- [Event handlers]
- [Form validation rules]

## Responsive
- Mobile: [changes at sm:]
- Tablet: [changes at md:]
- Desktop: [changes at lg:]

## Accessibility
- [ARIA attributes needed]
- [Keyboard navigation]
```

</prompt_structure>

<transformation_rules>

## Screen Spec → V0 Prompt

1. **Reference shadcn/ui:**
   - V0 is trained on shadcn/ui
   - Use exact component names: Button, Input, Card, etc.
   - Reference variants: variant="outline", size="lg"
   - Use proper composition (Card → CardHeader, CardContent, CardFooter)

2. **Use Tailwind terminology:**
   - Classes like max-w-md, mx-auto, space-y-4
   - Color utilities: bg-primary, text-muted-foreground
   - Spacing: p-6, gap-4, mb-2
   - Responsive: sm:, md:, lg: prefixes

3. **Structure clearly:**
   - Describe nesting (Card containing Form containing Input)
   - Use indentation in descriptions
   - Specify flex/grid layouts
   - Be explicit about container → children relationships

4. **Include interactivity:**
   - Form submissions with react-hook-form
   - Click handlers
   - State changes (useState, useReducer)
   - Loading states

5. **Map spec tokens to Tailwind:**
   - Convert color tokens to Tailwind classes
   - Use CSS variables for custom colors
   - Reference the shadcn theme system

6. **Include TypeScript hints:**
   - Mention expected props types
   - Interface requirements
   - Generic types if needed

</transformation_rules>

<token_mapping>

V0/shadcn uses CSS variables. Map design tokens to Tailwind:

| Token Reference | V0/Tailwind Class |
|-----------------|-------------------|
| color.primary.default | bg-primary, text-primary |
| color.primary.hover | hover:bg-primary/90 |
| color.primary.foreground | text-primary-foreground |
| color.secondary.default | bg-secondary, text-secondary |
| color.secondary.foreground | text-secondary-foreground |
| color.destructive.default | bg-destructive, text-destructive |
| color.text.default | text-foreground |
| color.text.muted | text-muted-foreground |
| color.background.default | bg-background |
| color.background.card | bg-card |
| color.border.default | border-border |
| color.input | bg-input |
| color.ring | ring-ring |
| spacing.1 | p-1, m-1, gap-1 (4px) |
| spacing.2 | p-2, m-2, gap-2 (8px) |
| spacing.4 | p-4, m-4, gap-4 (16px) |
| spacing.6 | p-6, m-6, gap-6 (24px) |
| spacing.8 | p-8, m-8, gap-8 (32px) |
| border.radius.sm | rounded-sm |
| border.radius.md | rounded-md |
| border.radius.lg | rounded-lg |
| border.radius.full | rounded-full |
| shadow.sm | shadow-sm |
| shadow.md | shadow-md |
| shadow.lg | shadow-lg |
| typography.sm | text-sm |
| typography.base | text-base |
| typography.lg | text-lg |
| typography.xl | text-xl |
| typography.2xl | text-2xl |

### Custom Colors via CSS Variables

If spec uses custom colors not in default theme:
```
className="bg-[#2563EB]" // Direct hex
className="bg-[hsl(var(--brand))]" // CSS variable
```

</token_mapping>

<shadcn_components>

Map UI components to shadcn/ui equivalents:

| Component | shadcn/ui | Composition | Key Props |
|-----------|-----------|-------------|-----------|
| Button | Button | - | variant: default/outline/ghost/destructive/link, size: sm/default/lg |
| InputField | Input + Label | Label above Input | type, placeholder, disabled |
| TextArea | Textarea + Label | Label above Textarea | rows, placeholder |
| Select | Select | SelectTrigger → SelectContent → SelectItem | value, onValueChange |
| Checkbox | Checkbox + Label | Horizontal flex | checked, onCheckedChange |
| Switch | Switch + Label | Horizontal flex | checked, onCheckedChange |
| RadioGroup | RadioGroup | RadioGroupItem + Label for each | value, onValueChange |
| Card | Card | CardHeader/CardTitle/CardDescription, CardContent, CardFooter | - |
| Modal/Dialog | Dialog | DialogTrigger, DialogContent, DialogHeader/Title/Description, DialogFooter | open, onOpenChange |
| Dropdown | DropdownMenu | DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem | - |
| Tabs | Tabs | TabsList → TabsTrigger, TabsContent | value, onValueChange |
| Toast | Toast | Via useToast() hook | - |
| Alert | Alert | AlertTitle, AlertDescription | variant: default/destructive |
| Avatar | Avatar | AvatarImage, AvatarFallback | - |
| Badge | Badge | - | variant: default/secondary/outline/destructive |
| Tooltip | Tooltip | TooltipTrigger, TooltipContent | - |
| Sheet | Sheet | SheetTrigger, SheetContent, SheetHeader/Title | side: top/right/bottom/left |
| Table | Table | TableHeader/Row/Head, TableBody/Row/Cell | - |
| Form | Form | FormField, FormItem, FormLabel, FormControl, FormMessage | Via react-hook-form |
| Skeleton | Skeleton | - | className for sizing |
| Separator | Separator | - | orientation: horizontal/vertical |
| Progress | Progress | - | value (0-100) |
| Slider | Slider | - | value, onValueChange, min, max |
| Calendar | Calendar | - | selected, onSelect |
| DatePicker | Popover + Calendar | Custom composition | - |
| Command | Command | CommandInput, CommandList, CommandItem, CommandGroup | - |
| Combobox | Popover + Command | Custom composition | - |
| DataTable | Table + TanStack | Custom composition | columns, data |

</shadcn_components>

<form_patterns>

## Forms with react-hook-form + zod

```
Create a signup form using shadcn/ui Form components with react-hook-form and zod validation:

Form fields:
- Name: required, min 2 characters
- Email: required, valid email format
- Password: required, min 8 characters, show strength indicator

Behavior:
- Show inline errors below each field on blur/submit
- Disable submit while submitting
- Show loading spinner in button during submission
- Success: show toast notification
- Error: show error message at form level

Use FormField, FormItem, FormLabel, FormControl, FormDescription, FormMessage components.
```

## Zod Schema Pattern

When validation is needed, specify rules that map to zod:
- "required" → .min(1, "Required")
- "valid email" → .email("Invalid email")
- "min X characters" → .min(X, "Must be at least X characters")
- "max X characters" → .max(X, "Must be at most X characters")
- "must match pattern" → .regex(pattern, "Invalid format")

</form_patterns>

<table_patterns>

## Data Tables with TanStack

```
Create a data table using shadcn/ui Table with TanStack Table:

Columns:
- Name (sortable, filterable)
- Email (sortable)
- Status (filterable with dropdown: Active, Inactive, Pending)
- Created (sortable, date format)
- Actions (dropdown menu: View, Edit, Delete)

Features:
- Column header sorting (click to toggle asc/desc)
- Global search input above table
- Status filter dropdown
- Pagination at bottom (10/20/50 per page)
- Row selection with checkboxes
- Bulk actions dropdown when rows selected

Responsive:
- On mobile, hide Email and Created columns
- Action menu stays visible
```

</table_patterns>

<iteration_guidance>

## When Results Need Refinement

V0 has built-in iteration, but for prompt refinement:

### If structure is wrong:
```
Modify the component to:
- Move [element] inside [container]
- Add [new element] between [A] and [B]
- Remove [element]
- Wrap [elements] in a flex container with gap-4
```

### If styling is wrong:
```
Update styling:
- Change [element] background to bg-slate-100
- Add rounded-lg to the outer Card
- Increase padding to p-8
- Use text-lg font-semibold for the heading
```

### If behavior is wrong:
```
Fix the interactivity:
- Form should validate on blur, not on change
- Add loading state to submit button
- Disable inputs while submitting
- Show toast on successful submission
```

### If responsive is wrong:
```
Fix responsive behavior:
- On mobile (sm:), stack form fields vertically
- Hide sidebar on screens smaller than md:
- Use Sheet for mobile navigation
```

### If types are wrong:
```
Update TypeScript:
- Add props interface with: title: string, onSubmit: (data: FormData) => void
- Make [prop] optional with default value
- Use generic type for table data
```

</iteration_guidance>

<example_transformation>

**Input: Screen Spec**
```markdown
# SCR-01: Login

Route: /login
Layout: centered-card (max-width: 400px)

## Purpose
Allow existing users to sign in to their account.

## Wireframe
┌─────────────────────────────────────────────────────┐
│                    [Background]                      │
│              ┌─────────────────────┐                │
│              │      [Logo]         │                │
│              │  "Welcome back"     │                │
│              │  [Email input]      │                │
│              │  [Password input]   │                │
│              │  [Sign In button]   │                │
│              │  Forgot password?   │                │
│              │  ─────── or ─────── │                │
│              │  [Google button]    │                │
│              └─────────────────────┘                │
└─────────────────────────────────────────────────────┘

## Components
1. Logo — centered, 48px height
2. Heading — "Welcome back", typography.h2
3. InputField — label: "Email", type: email, placeholder: "you@example.com"
4. InputField — label: "Password", type: password
5. Button — label: "Sign In", variant: primary, fullWidth
6. Link — "Forgot password?", centered
7. Divider — text: "or"
8. Button — label: "Continue with Google", variant: secondary, icon: google, fullWidth

## Behavior
- Validate email format on blur
- Validate password not empty on blur
- Show inline errors below fields
- Loading state on submit
- Redirect to /dashboard on success

## Design Tokens
- Primary: #2563EB → bg-primary
- Background: #F8FAFC → bg-slate-50
- Text: #0F172A → text-foreground
- Muted: #64748B → text-muted-foreground
```

**Output: V0 Prompt**
```
Create a login page using shadcn/ui components with react-hook-form and zod validation.

## Structure
- Centered layout with max-w-md mx-auto min-h-screen flex items-center justify-center
- Background: bg-slate-50
- Card component containing the form

## Inside Card
- CardHeader:
  - Logo placeholder div: h-12 w-12 mx-auto mb-4 bg-muted rounded-lg
  - CardTitle: "Welcome back" text-2xl font-semibold text-center

- CardContent with space-y-4:
  - Form (react-hook-form) with fields:

    1. Email FormField:
       - FormLabel: "Email"
       - FormControl: Input type="email" placeholder="you@example.com"
       - FormMessage for errors
       - Validation: required, valid email format

    2. Password FormField:
       - FormLabel: "Password"
       - FormControl: Input type="password"
       - FormMessage for errors
       - Validation: required, min 1 character

    3. Button type="submit" className="w-full":
       - Text: "Sign In"
       - Show loading spinner when submitting
       - Disabled while submitting

  - Link below form:
    - "Forgot password?"
    - className="text-sm text-muted-foreground hover:text-primary text-center block"

  - Separator with text "or" in the middle

  - Button variant="outline" className="w-full":
    - Google icon on left (use a simple SVG or lucide-react icon)
    - Text: "Continue with Google"

## Behavior
- Validate on blur (mode: "onBlur")
- On successful submit: console.log the values (would redirect in real app)
- On error: show FormMessage below each field
- Loading state: disable form, show spinner in button

## Styling
- Card: shadow-sm border rounded-lg p-6
- Form spacing: space-y-4 between fields
- Button spacing: mt-2 for submit button
- Separator: my-4
```

</example_transformation>

<dark_mode>

## Dark Mode Generation

V0 with shadcn/ui has excellent dark mode support via CSS variables.

### Default Approach (CSS Variables)

shadcn/ui uses CSS custom properties that automatically switch:

```
Create a login form with dark mode support.

Use shadcn/ui's built-in theming:
- Colors via CSS variables (--background, --foreground, etc.)
- Add dark: variants where needed for custom colors
- ThemeProvider for system/manual toggle

The component should work in both light and dark modes without any changes.
```

### Custom Dark Mode Colors

When design tokens have specific dark mode values:

```
Create a login form with these colors:

Light mode (default):
- Background: bg-slate-50
- Card: bg-white
- Text: text-slate-900
- Muted: text-slate-500

Dark mode (via dark: prefix):
- Background: dark:bg-slate-900
- Card: dark:bg-slate-800
- Text: dark:text-slate-50
- Muted: dark:text-slate-400

Include both classes on elements: className="bg-white dark:bg-slate-800"
```

### Theme Toggle Component

```
Add a theme toggle button in the header:
- Sun icon for light mode
- Moon icon for dark mode
- Use next-themes useTheme() hook
- Smooth transition between modes
- Persist preference in localStorage
```

### TypeScript for Theme

```typescript
// Include theme-aware props
interface LoginFormProps {
  onSubmit: (data: LoginData) => Promise<void>;
  theme?: 'light' | 'dark' | 'system';
}
```

</dark_mode>

<advanced_patterns>

## Dashboard Layout

```
Create a dashboard layout with shadcn/ui:

- Sidebar (fixed left, 280px wide on lg:, Sheet on mobile):
  - Logo at top
  - Navigation links with icons (Home, Projects, Settings, etc.)
  - Highlight active link
  - User info at bottom with Avatar and dropdown

- Header (sticky top):
  - Mobile menu trigger (hamburger → opens Sheet)
  - Breadcrumbs
  - Search Command palette trigger (⌘K)
  - Notifications dropdown
  - User avatar dropdown

- Main content area:
  - Scrollable with p-6
  - Max width constraint (max-w-7xl mx-auto)

Responsive:
- lg: and up: sidebar visible, header without hamburger
- Below lg: sidebar hidden, accessible via Sheet
```

## Settings Page with Tabs

```
Create a settings page using shadcn/ui Tabs:

Tabs:
- Profile (default active)
- Account
- Notifications
- Billing

Each tab content in its own TabsContent:

Profile Tab:
- Avatar upload area
- Form: Name, Email (disabled), Bio
- Save button

Account Tab:
- Change password form
- Connected accounts list
- Delete account section (destructive)

Notifications Tab:
- Toggle switches for: Email, Push, SMS
- Grouped by category

Billing Tab:
- Current plan card
- Usage stats
- Payment method
- Billing history table

Navigation:
- Vertical tabs on lg:, horizontal on smaller
- Tabs persist in URL (/settings?tab=account)
```

## Command Palette

```
Create a command palette using shadcn/ui Command:

- Opens with ⌘K (Ctrl+K on Windows)
- Modal overlay with Command component
- Search input at top
- Groups:
  - Suggestions (recent items)
  - Navigation (pages with icons)
  - Actions (theme toggle, logout)
- Keyboard navigation (↑↓ to move, Enter to select, Esc to close)
- Fuzzy search filtering
```

</advanced_patterns>

<reverse_sync>

## Importing Generated Code Back

After generating in V0:

1. **Direct Add to Codebase**
   - Use V0's "Add to Codebase" feature
   - Or: `npx v0 add [generation-id]`
   - Files go to src/components/ by default

2. **Track in UI System**
   ```bash
   /ui:import-design --source v0 --files src/components/login-form.tsx
   ```

3. **What Gets Analyzed**
   - Component structure matches spec?
   - All required elements present?
   - Proper shadcn components used?
   - Tailwind classes match design tokens?
   - TypeScript types correct?

4. **Registry Entry**
   ```markdown
   ## SCR-01: Login
   - Status: Implemented
   - Source: V0
   - Generated: 2026-01-19
   - Files:
     - src/components/login-form.tsx
     - src/lib/validations/auth.ts (if schemas extracted)
   - V0 Generation: [link to v0.dev/chat/xxx]
   - Deviations:
     - Added "Remember me" checkbox (approved addition)
   ```

5. **Sync Check**
   - Run `/ui:sync` to compare spec vs implementation
   - Flags: missing elements, extra elements, style differences
   - Updates: spec or implementation based on decision

</reverse_sync>

<handoff_document>

Generate alongside prompt for developer handoff:

```markdown
# Component Brief: Login Form (SCR-01)

## Quick Summary
React login form with email/password fields, validation, and Google OAuth option.

## Tech Stack Required
- React 18+
- shadcn/ui (Card, Button, Input, Form, Separator)
- react-hook-form + zod
- Tailwind CSS
- lucide-react (for icons)

## shadcn/ui Components Needed
```bash
npx shadcn-ui@latest add card button input form separator
```

## Implementation Notes
- Use FormField from shadcn for proper error handling
- Validation mode: onBlur for better UX
- Button loading state via disabled + spinner
- Google button is placeholder (wire up OAuth later)

## Props Interface
```typescript
interface LoginFormProps {
  onSubmit: (data: { email: string; password: string }) => Promise<void>;
  onForgotPassword?: () => void;
  onGoogleLogin?: () => void;
  isLoading?: boolean;
}
```

## Validation Schema
```typescript
const loginSchema = z.object({
  email: z.string().email("Invalid email address"),
  password: z.string().min(1, "Password is required"),
});
```

## States to Handle
1. Default (empty form)
2. Validating (after blur)
3. Error (validation failed)
4. Submitting (loading)
5. Success (redirect)

## Accessibility Checklist
- [ ] Labels associated with inputs (htmlFor)
- [ ] Error messages linked (aria-describedby)
- [ ] Focus management on error
- [ ] Button disabled state communicated
- [ ] Loading state announced

## Related Files
- Spec: .planning/screens/SCR-01-login.md
- Design tokens: .planning/design-tokens.json
- API contract: .planning/API-CONTRACTS.md#auth

---
*Generated by UI Design System • Source: SCR-01-login.md*
```

</handoff_document>

<diff_from_stitch>

## Key Differences: V0 vs Stitch

| Aspect | V0 | Stitch |
|--------|-----|--------|
| Output | Production React code | Visual designs |
| Language | Technical (Tailwind, shadcn) | Descriptive (natural language) |
| Best for | Implementation | Exploration |
| Granularity | Component-level | Screen-level |
| Iteration | Built-in code iteration | Re-prompt |
| Export | Direct to codebase | Figma/HTML |
| Types | Full TypeScript | N/A |
| Interactivity | Real React handlers | Static |

## When to Use V0 Instead of Stitch
- You need production code
- Your stack is React + Tailwind
- You want TypeScript types
- Component needs real interactivity
- You'll iterate on implementation details

## When to Use Stitch Instead of V0
- Early visual exploration
- Non-React projects
- Need Figma deliverable
- Marketing/landing pages
- Client presentation mockups

</diff_from_stitch>

<best_practices>

**Do:**
- Reference shadcn/ui component names exactly
- Use Tailwind class names for styling
- Describe component hierarchy clearly
- Include responsive breakpoints
- Specify form validation requirements
- Mention TypeScript requirements
- Include accessibility notes
- Use proper composition (Card → CardHeader → CardTitle)

**Don't:**
- Use generic terms like "input box" (say "Input")
- Skip the component library reference
- Forget to specify variants (outline vs default)
- Ignore mobile considerations
- Assume default props (be explicit)
- Mix component libraries (shadcn only)
- Skip loading/error states

</best_practices>

<export_workflow>

## After Generating in V0

1. **Review the code**
   - Does it match spec structure?
   - Are shadcn components used correctly?
   - Is TypeScript correct?
   - Is it accessible?

2. **Iterate in V0**
   - Use V0's built-in iteration feature
   - Be specific about changes needed
   - Track major versions

3. **Export to codebase**
   ```bash
   npx v0 add [generation-id]
   # or use "Add to Codebase" button
   ```

4. **Register in UI System**
   ```bash
   /ui:import-design --source v0 --files [paths]
   ```

5. **Verify sync**
   ```bash
   /ui:sync
   ```
   - Review any flagged differences
   - Approve intentional deviations
   - Fix unintentional mismatches

6. **Update for GSD**
   - UI-REGISTRY.md updated automatically
   - STATE.md integration available
   - Executor can reference implemented components

</export_workflow>
